## 游戏介绍（最终版）

### 项目定位
本项目是一个**基于 TCP Socket 的多人在线命令行 MUD 武侠游戏**。服务器端集中管理全部游戏状态（角色、场景、战斗、NPC、聊天、存档等），客户端只负责输入/输出展示。

### 核心玩法
- **地图探索（v4.0）**：地图有明确的上下左右位置关系；主菜单顶部显示一张“主地图”，玩家用方向命令在场景之间移动。
- **场景限制**：不同场景允许的操作不同（如：有的场景可打怪，有的只能对话）。
- **打怪升级（PVE）**：进入战斗后使用普通攻击或技能击败随机怪物获得经验，战斗结束自动回血。
- **NPC 问答**：与 NPC 对话触发选择题/问答，回答正确获得经验。
- **玩家聊天**：实时广播聊天消息。
- **玩家 PK（PVP）**：在武林广场发起挑战，双方回合制战斗（同样使用普通攻击/技能）。
- **武林秘籍修炼台（共享资源，v3.0）**：全局唯一修炼台，同一时间只能一个玩家使用；答题开启修炼，成功后随机提升攻击/防御或获得大量经验（可能升级），并向全服广播。
- **存档系统**：服务器端使用 JSON 保存/加载玩家角色数据（`save_<玩家名>.json`）。

### 网络与交互方式
- **协议**：TCP（一行一条命令）
- **默认端口**：4444
- **最大连接数**：5
- **编码**：UTF-8

### 快速操作（网络版）
- **1 / battle / fight**：打怪（需在支持打怪的场景）
- **2 / npc / talk**：NPC 对话（需在支持对话的场景）
- **3 / status**：查看状态
- **4 / save**：存档（写入 `src/com/mudgame/save_<玩家名>.json`）
- **5 / load**：读档
- **6 / list / players**：在线玩家列表
- **7 chat <消息>** 或直接输入文本：聊天
- **8 pk <玩家名>**：发起 PK（仅武林广场）
- **accept / reject**：接受/拒绝 PK
- **9 / scene**：进入移动菜单（方向移动 n/s/e/w 或 上/下/左/右；支持 `map`/`list`）
- **10 / train / altar**：使用修炼台
- **0 / quit / exit**：退出

### 数据文件
- **NPC 配置**：`src/com/mudgame/npcs.json`（选择题/对话/经验）
- **玩家存档**：`src/com/mudgame/save_<玩家名>.json`


